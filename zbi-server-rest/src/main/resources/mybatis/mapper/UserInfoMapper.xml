<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.zbi.server.mapper.mysql.UserInfoMapper">
	<resultMap id="userInfoResultMap"
		type="org.zbi.server.entity.mysql.UserInfo">
		<result column="user_id" property="userID" />
		<result column="email" property="email" />
		<result column="user_name" property="userName" />
		<result column="role_type" property="roleType" />
		<result column="password" property="password" />
	</resultMap>

	<insert id="createUser">
		insert into
		zbi_db.user_info(user_name,email,role_type)
		values(#{userName},#{email},#{roleType},#{password}))
	</insert>

	<select id="getUserByUserID" resultMap="userInfoResultMap">
		select * from
		zbi_db.user_info where
		user_id=#{userID}
	</select>

	<select id="getUserByEmail" resultMap="userInfoResultMap">
		select * from
		zbi_db.user_info where
		`email`=#{email}
	</select>


	<select id="checkEmail" resultType="boolean">
		select count(1) from
		zbi_db.user_info where email=#{email}
	</select>

</mapper>